[entity.web-push-subscription]
name = "Web Push Subscription"
[entity.web-push-subscription.software]
mastodon.version = "2.4.0"
mastodon.docs = "https://docs.joinmastodon.org/entities/WebPushSubscription/"
[entity.web-push-subscription.attributes]
id.mastodon = "2.4.0"
endpoint.mastodon = "2.4.0"
server_key.mastodon = "2.4.0"
"alerts[mention]".mastodon = "2.4.0"
"alerts[status]".mastodon = "3.3.0"
"alerts[reblog]".mastodon = "2.4.0"
"alerts[follow]".mastodon = "2.4.0"
"alerts[follow_request]".mastodon = "3.1.0"
"alerts[favourite]".mastodon = "2.4.0"
"alerts[poll]".mastodon = "2.8.0"
"alerts[update]".mastodon = "3.5.0"
"alerts[admin.sign_up]".mastodon = "3.5.0"
"alerts[admin.report]".mastodon = "4.0.0"

[entity.push-policy]
name = "Push Policy"
[entity.push-policy.software]
mastodon.version = "3.4.0"
mastodon.docs = "https://docs.joinmastodon.org/methods/push/#form-data-parameters"
[entity.push-policy.values]
all.mastodon = "3.4.0"
followed.mastodon = "3.4.0"
follower.mastodon = "3.4.0"
none.mastodon = "3.4.0"

[[api]]
request = "POST /api/v1/push/subscription"
response = "web-push-subscription"
[api.software]
mastodon.version = "2.4.0"
mastodon.docs = "https://docs.joinmastodon.org/methods/push/#create"
[api.params]
"subscription[endpoint]".mastodon = "2.4.0"
"subscription[keys][p256dh]".mastodon = "2.4.0"
"subscription[keys][auth]".mastodon = "2.4.0"
"data[alerts][mention]".mastodon = "2.4.0"
"data[alerts][status]".mastodon = "3.3.0"
"data[alerts][reblog]".mastodon = "2.4.0"
"data[alerts][follow]".mastodon = "2.4.0"
"data[alerts][follow_request]".mastodon = "3.1.0"
"data[alerts][favourite]".mastodon = "2.4.0"
"data[alerts][poll]".mastodon = "2.8.0"
"data[alerts][update]".mastodon = "3.5.0"
"data[alerts][admin.sign_up]".mastodon = "3.5.0"
"data[alerts][admin.report]".mastodon = "4.0.0"
"data[policy]".entity = "push-policy"
"data[policy]".mastodon = "3.5.0"

[[api]]
request = "GET /api/v1/push/subscription"
response = "web-push-subscription"
[api.software]
mastodon.version = "2.4.0"
mastodon.docs = "https://docs.joinmastodon.org/methods/push/#get"

[[api]]
request = "PUT /api/v1/push/subscription"
response = "web-push-subscription"
[api.software]
mastodon.version = "2.4.0"
mastodon.docs = "https://docs.joinmastodon.org/methods/push/#update"
[api.params]
"data[alerts][mention]".mastodon = "2.4.0"
"data[alerts][status]".mastodon = "3.3.0"
"data[alerts][reblog]".mastodon = "2.4.0"
"data[alerts][follow]".mastodon = "2.4.0"
"data[alerts][follow_request]".mastodon = "3.1.0"
"data[alerts][favourite]".mastodon = "2.4.0"
"data[alerts][poll]".mastodon = "2.8.0"
"data[alerts][update]".mastodon = "3.5.0"
"data[alerts][admin.sign_up]".mastodon = "3.5.0"
"data[alerts][admin.report]".mastodon = "4.0.0"
"data[policy]".entity = "push-policy"
"data[policy]".mastodon = "3.5.0"

[[api]]
request = "DELETE /api/v1/push/subscription"
[api.software]
mastodon.version = "2.4.0"
mastodon.docs = "https://docs.joinmastodon.org/methods/push/#delete"
